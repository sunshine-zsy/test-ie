{"version":3,"file":"js/595.8eece3e6.js","mappings":"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","sources":["webpack://pc-exam-student/./src/api/course.js","webpack://pc-exam-student/./src/views/course/index.vue","webpack://pc-exam-student/src/views/course/index.vue","webpack://pc-exam-student/./src/views/course/index.vue?392d","webpack://pc-exam-student/./src/views/course/index.vue?6a32"],"sourcesContent":["//import request from './request'\r\nimport request from '@/utils/request'\r\n\r\n// 获取课程列表\r\nexport function getCourseList(params) {\r\n  return request({\r\n    url: '/courses/courses/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取课程详情\r\nexport function getCourseDetail(id) {\r\n  return request({\r\n    url: `/courses/courses/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取文件访问URL\r\nexport function getFileUrl(fileId) {\r\n  return request({\r\n    url: `/courses/file/${fileId}/url`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取我的课程列表\r\nexport function getMyCourses(params) {\r\n  return request({\r\n    url: '/courses/collections/myCourses',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 收藏课程\r\nexport function collectCourse(courseId) {\r\n  return request({\r\n    url: `/courses/collections/collect/${courseId}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 取消收藏\r\nexport function cancelCollectCourse(courseId) {\r\n  return request({\r\n    url: `/courses/collections/cancelCollect/${courseId}`,\r\n    method: 'get'\r\n  })\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"course-container\"},[_c('div',{staticClass:\"course-header\"},[_c('div',{staticClass:\"left\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"课程中心\",\"name\":\"center\"}}),_c('el-tab-pane',{attrs:{\"label\":\"我的课程\",\"name\":\"my\"}})],1)],1)]),_c('div',{staticClass:\"search-bar\"},[_c('div',{staticClass:\"category-select\"},[_c('el-select',{attrs:{\"placeholder\":\"课程分类\",\"clearable\":\"\"},on:{\"change\":_vm.handleFilter},model:{value:(_vm.categoryId),callback:function ($$v) {_vm.categoryId=$$v},expression:\"categoryId\"}},_vm._l((_vm.categoryOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('div',{staticClass:\"search-input\"},[_c('el-input',{attrs:{\"placeholder\":\"搜索课程名称\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"clear\":_vm.handleClear,\"input\":_vm.handleInput},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"searchKey\"}})],1)]),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.courseList),function(course){return _c('el-col',{key:course.id,attrs:{\"span\":6}},[_c('el-card',{staticClass:\"course-card\",attrs:{\"shadow\":\"hover\"},nativeOn:{\"click\":function($event){return _vm.enterCourse(course)}}},[_c('div',{staticClass:\"course-img\"},[_c('img',{attrs:{\"src\":_vm.getCoverUrl(course),\"alt\":\"课程封面\"}})]),_c('div',{staticClass:\"course-info\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(course.title || '未命名课程'))]),_c('div',{staticClass:\"category\"},[_vm._v(\" 课程分类：\"+_vm._s(_vm.getCategoryName(course.categoryId) || '-')+\" \")]),_c('div',{staticClass:\"price\",class:{ free: !course.price }},[_vm._v(\" 课程售价：\"+_vm._s(course.price ? `￥${course.price}` : '免费')+\" \")]),_c('div',{staticClass:\"course-actions\"},[_c('el-button',{staticClass:\"collect-btn\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleCollect(course)}}},[_c('i',{class:[\n                course.isCollect ? 'el-icon-star-on' : 'el-icon-star-off',\n                { 'is-collected': course.isCollect }\n              ]})])],1)])])],1)}),1),(_vm.total > 0)?_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[12, 24, 36, 48],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"empty-block\"},[_c('el-skeleton',{attrs:{\"rows\":3,\"animated\":\"\"}})],1):(_vm.courseList.length === 0)?_c('div',{staticClass:\"empty-block\"},[_c('el-empty',{attrs:{\"description\":\"暂无课程\"}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"course-container\">\r\n    <div class=\"course-header\">\r\n      <div class=\"left\">\r\n        <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\">\r\n          <el-tab-pane label=\"课程中心\" name=\"center\"></el-tab-pane>\r\n          <el-tab-pane label=\"我的课程\" name=\"my\"></el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"search-bar\">\r\n      <div class=\"category-select\">\r\n        <el-select v-model=\"categoryId\" placeholder=\"课程分类\" clearable @change=\"handleFilter\">\r\n          <el-option\r\n            v-for=\"item in categoryOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      <div class=\"search-input\">\r\n        <el-input\r\n          v-model.trim=\"searchKey\"\r\n          placeholder=\"搜索课程名称\"\r\n          prefix-icon=\"el-icon-search\"\r\n          clearable\r\n          @clear=\"handleClear\"\r\n          @input=\"handleInput\">\r\n        </el-input>\r\n      </div>\r\n    </div>\r\n\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\" v-for=\"course in courseList\" :key=\"course.id\">\r\n        <el-card class=\"course-card\" shadow=\"hover\" @click.native=\"enterCourse(course)\">\r\n          <div class=\"course-img\">\r\n            <img :src=\"getCoverUrl(course)\" alt=\"课程封面\">\r\n          </div>\r\n          <div class=\"course-info\">\r\n            <h3 class=\"title\">{{ course.title || '未命名课程' }}</h3>\r\n            <div class=\"category\">\r\n              课程分类：{{ getCategoryName(course.categoryId) || '-' }}\r\n            </div>\r\n            <div class=\"price\" :class=\"{ free: !course.price }\">\r\n              课程售价：{{ course.price ? `￥${course.price}` : '免费' }}\r\n            </div>\r\n            <div class=\"course-actions\">\r\n              <el-button \r\n                type=\"text\" \r\n                size=\"small\" \r\n                class=\"collect-btn\"\r\n                @click.stop=\"toggleCollect(course)\"\r\n              >\r\n                <i :class=\"[\r\n                  course.isCollect ? 'el-icon-star-on' : 'el-icon-star-off',\r\n                  { 'is-collected': course.isCollect }\r\n                ]\"></i>\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <div class=\"pagination-container\" v-if=\"total > 0\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\"\r\n        :page-sizes=\"[12, 24, 36, 48]\"\r\n        :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <!-- 加载状态 -->\r\n    <div class=\"empty-block\" v-if=\"loading\">\r\n      <el-skeleton :rows=\"3\" animated></el-skeleton>\r\n    </div>\r\n    <div class=\"empty-block\" v-else-if=\"courseList.length === 0\">\r\n      <el-empty description=\"暂无课程\"></el-empty>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCourseList, getMyCourses, collectCourse, cancelCollectCourse } from '@/api/course'\r\nimport { getImagesByIds, getCourseCategoriesDict } from '@/api/system'\r\nimport defaultCover from '@/assets/default-cover.jpg'\r\nimport logger from '@/utils/logger'\r\n\r\nexport default {\r\n  name: 'CourseCenter',\r\n  data() {\r\n    return {\r\n      activeTab: 'center',\r\n      searchKey: '',\r\n      categoryId: '',\r\n      categoryOptions: [], // 课程分类选项\r\n      courseList: [],\r\n      loading: false,\r\n      pageNum: 1,\r\n      pageSize: 12,\r\n      total: 0,\r\n      defaultCover,\r\n      imageCache: new Map(), // 用于缓存图片URL\r\n      searchTimer: null, // 添加定时器变量\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取课程列表\r\n    async fetchCourseList() {\r\n      this.loading = true\r\n      try {\r\n        const params = {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          title: this.searchKey,\r\n          categoryId: this.categoryId\r\n        }\r\n        const res = await getCourseList(params)\r\n        this.courseList = (res.rows || []).map(course => ({\r\n          ...course,\r\n          isCollected: course.isCollect === 1 // 使用 isCollect 字段判断收藏状态\r\n        }))\r\n        this.total = res.total\r\n\r\n        // 获取所有需要加载的图片ID\r\n        const imageIds = this.courseList\r\n          .filter(course => course.coverUrl)\r\n          .map(course => course.coverUrl)\r\n          .join(',')\r\n\r\n        if (imageIds) {\r\n          await this.loadImages(imageIds)\r\n        }\r\n      } catch (error) {\r\n        logger.error('获取课程列表失败:', error)\r\n        this.$message.error('获取课程列表失败')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    // 加载图片\r\n    async loadImages(imageIds) {\r\n      try {\r\n        const res = await getImagesByIds(imageIds)\r\n        if (res.code === 200 && res.data) {\r\n          // 更新图片缓存\r\n          res.data.forEach(item => {\r\n            this.imageCache.set(item.ossId.toString(), item.url)\r\n          })\r\n          \r\n          // 更新课程列表中的图片\r\n          this.courseList = this.courseList.map(course => ({\r\n            ...course,\r\n            cover: course.coverUrl ? this.imageCache.get(course.coverUrl.toString()) || defaultCover : defaultCover\r\n          }))\r\n        }\r\n      } catch (error) {\r\n        logger.error('获取图片失败:', error)\r\n      }\r\n    },\r\n\r\n    // 获取课程封面\r\n    getCoverUrl(course) {\r\n      if (!course.coverUrl) return defaultCover\r\n      return this.imageCache.get(course.coverUrl.toString()) || defaultCover\r\n    },\r\n\r\n    // 处理输入\r\n    handleInput() {\r\n      if (this.searchTimer) {\r\n        clearTimeout(this.searchTimer)\r\n      }\r\n      this.searchTimer = setTimeout(() => {\r\n        this.pageNum = 1\r\n        if (this.activeTab === 'center') {\r\n          this.fetchCourseList()\r\n        } else {\r\n          this.fetchMyCourses()\r\n        }\r\n      }, 300)\r\n    },\r\n\r\n    // 处理清空\r\n    handleClear() {\r\n      this.searchKey = ''\r\n      this.pageNum = 1\r\n      if (this.activeTab === 'center') {\r\n        this.fetchCourseList()\r\n      } else {\r\n        this.fetchMyCourses()\r\n      }\r\n    },\r\n\r\n    // 处理分类筛选（只在课程中心使用）\r\n    handleFilter() {\r\n      this.pageNum = 1\r\n      if (this.activeTab === 'center') {\r\n        this.fetchCourseList()\r\n      } else {\r\n        this.fetchMyCourses()\r\n      }\r\n    },\r\n\r\n    // 处理标签页切换\r\n    async handleTabClick() {\r\n      this.pageNum = 1\r\n      this.searchKey = '' // 切换标签页时清空搜索\r\n      this.categoryId = '' // 切换标签页时清空分类\r\n      if (this.activeTab === 'center') {\r\n        await this.fetchCourseList()\r\n      } else {\r\n        await this.fetchMyCourses()\r\n      }\r\n    },\r\n\r\n    // 获取我的课程列表\r\n    async fetchMyCourses() {\r\n      this.loading = true\r\n      try {\r\n        const params = {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          title: this.searchKey,\r\n          categoryId: this.categoryId\r\n        }\r\n\r\n        const res = await getMyCourses(params)\r\n        if (res.code === 200) {\r\n          this.courseList = (res.rows || []).map(course => ({\r\n            ...course,\r\n            isCollected: course.isCollect === 1\r\n          }))\r\n          this.total = res.total\r\n\r\n          // 获取所有需要加载的图片ID\r\n          const imageIds = this.courseList\r\n            .filter(course => course.coverUrl)\r\n            .map(course => course.coverUrl)\r\n            .join(',')\r\n\r\n          if (imageIds) {\r\n            await this.loadImages(imageIds)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        logger.error('获取我的课程列表失败:', error)\r\n        this.$message.error('获取我的课程列表失败')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    // 处理分页大小变化\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.pageNum = 1\r\n      if (this.activeTab === 'center') {\r\n        this.fetchCourseList()\r\n      } else {\r\n        this.fetchMyCourses()\r\n      }\r\n    },\r\n\r\n    // 处理页码变化\r\n    handleCurrentChange(val) {\r\n      this.pageNum = val\r\n      if (this.activeTab === 'center') {\r\n        this.fetchCourseList()\r\n      } else {\r\n        this.fetchMyCourses()\r\n      }\r\n    },\r\n\r\n    // 进入课程详情\r\n    enterCourse(course) {\r\n      this.$router.push({\r\n        path: `/course/detail/${course.id}`,\r\n        query: { \r\n          categoryName: this.getCategoryName(course.categoryId)\r\n        }\r\n      })\r\n    },\r\n    // 获取课程分类\r\n    async fetchCategories() {\r\n      try {\r\n        const res = await getCourseCategoriesDict()\r\n        if (res.code === 200) {\r\n          this.categoryOptions = res.data.map(item => ({\r\n            value: item.dictValue,\r\n            label: item.dictLabel\r\n          }))\r\n        }\r\n      } catch (error) {\r\n        logger.error('获取课程分类失败:', error)\r\n        this.$message.error('获取课程分类失败')\r\n      }\r\n    },\r\n    // 获取分类名称\r\n    getCategoryName(categoryId) {\r\n      if (!categoryId) return '-'\r\n      const category = this.categoryOptions.find(item => item.value === categoryId.toString())\r\n      return category ? category.label : '-'\r\n    },\r\n    // 切换收藏状态\r\n    async toggleCollect(course) {\r\n      try {\r\n        if (course.isCollected) {\r\n          // 取消收藏\r\n          const res = await cancelCollectCourse(course.id)\r\n          if (res.code === 200) {\r\n            this.$message.success('取消收藏成功')\r\n            course.isCollected = false\r\n            course.isCollect = 0 // 同时更新 isCollect 字段\r\n          }\r\n        } else {\r\n          // 收藏课程\r\n          const res = await collectCourse(course.id)\r\n          if (res.code === 200) {\r\n            this.$message.success('收藏成功')\r\n            course.isCollected = true\r\n            course.isCollect = 1 // 同时更新 isCollect 字段\r\n          }\r\n        }\r\n      } catch (error) {\r\n        logger.error('收藏操作失败:', error)\r\n        this.$message.error('操作失败')\r\n      }\r\n    },\r\n  },\r\n  async created() {\r\n    // 先获取分类数据\r\n    await this.fetchCategories()\r\n    // 再获取课程列表\r\n    this.fetchCourseList()\r\n  },\r\n  // 组件销毁时清除定时器\r\n  beforeDestroy() {\r\n    if (this.searchTimer) {\r\n      clearTimeout(this.searchTimer)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.course-container {\r\n  padding: 20px 40px;\r\n  background-color: #f5f7fa;\r\n  min-height: calc(100vh - 60px);\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.course-header {\r\n  background-color: #fff;\r\n  padding: 0 20px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.course-header .right {\r\n  width: 300px;\r\n}\r\n\r\n.course-filter {\r\n  display: none;\r\n}\r\n\r\n.course-card {\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n.course-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n}\r\n\r\n.course-img {\r\n  position: relative;\r\n  height: 160px;\r\n  overflow: hidden;\r\n  border-radius: 4px 4px 0 0;\r\n}\r\n\r\n.course-img img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.course-card:hover .course-img img {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.course-info {\r\n  padding: 15px;\r\n  position: relative;\r\n  background-color: #fff;\r\n}\r\n\r\n.title {\r\n  margin: 0 0 10px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  line-height: 1.4;\r\n}\r\n\r\n.category {\r\n  font-size: 14px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.price {\r\n  font-size: 14px;\r\n  color: #f56c6c;\r\n}\r\n\r\n.price.free {\r\n  color: #67c23a;\r\n}\r\n\r\n.course-actions {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.collect-btn {\r\n  padding: 0;\r\n  font-size: 20px;\r\n}\r\n\r\n.collect-btn i {\r\n  transition: all 0.3s;\r\n  color: #909399;\r\n}\r\n\r\n.collect-btn:hover i {\r\n  transform: scale(1.1);\r\n}\r\n\r\n.collect-btn i.is-collected {\r\n  color: #f7ba2a;\r\n}\r\n\r\n.collect-btn i.el-icon-star-on {\r\n  animation: bounce 0.3s;\r\n}\r\n\r\n@keyframes bounce {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.2); }\r\n}\r\n\r\n/* tabs样式优化 */\r\n:deep(.el-tabs__nav-wrap::after) {\r\n  height: 1px;\r\n}\r\n\r\n:deep(.el-tabs__item) {\r\n  font-size: 16px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n}\r\n\r\n:deep(.el-tabs__item.is-active) {\r\n  color: #409eff;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 卡片样式优化 */\r\n:deep(.el-card__body) {\r\n  padding: 0;\r\n}\r\n\r\n:deep(.el-card) {\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n\r\n/* 搜索框样式优化 */\r\n:deep(.el-input__inner) {\r\n  border-radius: 4px;\r\n}\r\n\r\n/* 分页样式 */\r\n.pagination-container {\r\n  margin-top: 30px;\r\n  padding: 20px 0;\r\n  text-align: center;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n}\r\n\r\n.empty-block {\r\n  margin-top: 100px;\r\n  text-align: center;\r\n}\r\n\r\n/* 搜索栏样式 */\r\n.search-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.category-select {\r\n  width: 180px;\r\n}\r\n\r\n.search-input {\r\n  width: 300px;\r\n  margin-left: auto;\r\n}\r\n\r\n/* 搜索框和选择框样式统一 */\r\n:deep(.el-input__inner),\r\n:deep(.el-select .el-input__inner) {\r\n  height: 36px;\r\n  line-height: 36px;\r\n  border-radius: 4px;\r\n}\r\n\r\n:deep(.el-select .el-input__inner) {\r\n  border-color: #dcdfe6;\r\n}\r\n\r\n:deep(.el-input__icon) {\r\n  line-height: 36px;\r\n}\r\n\r\n/* 修改卡片布局的间距 */\r\n.el-row {\r\n  margin: 0 -15px;\r\n}\r\n\r\n.el-col {\r\n  padding: 0 15px;\r\n}\r\n\r\n/* 优化分类选择器样式 */\r\n.category-select {\r\n  width: 180px;\r\n}\r\n\r\n:deep(.el-select .el-input__inner) {\r\n  border-color: #dcdfe6;\r\n}\r\n\r\n:deep(.el-select-dropdown__item) {\r\n  padding: 0 20px;\r\n  height: 34px;\r\n  line-height: 34px;\r\n  font-size: 14px;\r\n}\r\n\r\n:deep(.el-select-dropdown__item.selected) {\r\n  color: #409eff;\r\n  font-weight: bold;\r\n}\r\n</style> ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=541de501&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=541de501&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"541de501\",\n  null\n  \n)\n\nexport default component.exports"],"names":["getCourseList","params","request","url","method","getCourseDetail","id","concat","getMyCourses","collectCourse","courseId","cancelCollectCourse","render","_vm","this","_c","_self","staticClass","on","handleTabClick","model","value","activeTab","callback","$$v","expression","attrs","handleFilter","categoryId","_l","categoryOptions","item","key","label","handleClear","handleInput","searchKey","trim","courseList","course","nativeOn","$event","enterCourse","getCoverUrl","_v","_s","title","getCategoryName","class","free","price","stopPropagation","toggleCollect","isCollect","total","pageNum","pageSize","handleSizeChange","handleCurrentChange","_e","loading","length","staticRenderFns","name","data","defaultCover","imageCache","Map","searchTimer","methods","fetchCourseList","_this","_asyncToGenerator","_regenerator","m","_callee","res","imageIds","_t","w","_context","p","n","v","rows","map","_objectSpread","isCollected","filter","coverUrl","join","loadImages","logger","error","$message","f","a","_this2","_callee2","_t2","_context2","getImagesByIds","code","forEach","set","ossId","toString","cover","get","_this3","clearTimeout","setTimeout","fetchMyCourses","_this4","_callee3","_context3","_this5","_callee4","_t3","_context4","val","$router","push","path","query","categoryName","fetchCategories","_this6","_callee5","_t4","_context5","getCourseCategoriesDict","dictValue","dictLabel","category","find","_this7","_callee6","_res","_t5","_context6","success","created","_this8","_callee7","_context7","beforeDestroy","component"],"sourceRoot":""}