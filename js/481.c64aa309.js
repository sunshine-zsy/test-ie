"use strict";(self["webpackChunkpc_exam_student"]=self["webpackChunkpc_exam_student"]||[]).push([[481],{83862:function(s,t,e){e.r(t),e.d(t,{default:function(){return p}});var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"exam-detail"},[t("div",{staticClass:"detail-header"},[t("div",{staticClass:"back",on:{click:function(t){return s.$router.back()}}},[t("i",{staticClass:"el-icon-arrow-left"}),s._v(" 返回 ")]),t("h2",[s._v(s._s(s.examDetail.examName))])]),t("el-card",{staticClass:"detail-card"},[t("div",{staticClass:"info-section"},[t("div",{staticClass:"info-item"},[t("span",{staticClass:"label"},[s._v("考试得分：")]),t("span",{staticClass:"value score",class:{pass:s.isPassed}},[s._v(" "+s._s(s.examDetail.score||s.examDetail.currentScore||0)+"分 ")])]),t("div",{staticClass:"info-item"},[t("span",{staticClass:"label"},[s._v("考试时间：")]),t("span",{staticClass:"value"},[s._v(s._s(s.formatTime(s.examDetail.submitTime)))])]),t("div",{staticClass:"info-item"},[t("span",{staticClass:"label"},[s._v("总分：")]),t("span",{staticClass:"value"},[s._v(s._s(s.examDetail.totalScore||0)+"分")])]),t("div",{staticClass:"info-item"},[t("span",{staticClass:"label"},[s._v("及格分：")]),t("span",{staticClass:"value qualify-score"},[s._v(s._s(s.examDetail.qualifyScore||0)+"分")])]),t("div",{staticClass:"info-item"},[t("span",{staticClass:"label"},[s._v("是否及格：")]),t("el-tag",{attrs:{type:s.isPassed?"success":"danger"}},[s._v(" "+s._s(s.isPassed?"及格":"不及格")+" ")])],1)]),s.examDetail.questionPapgerTopicList&&s.examDetail.questionPapgerTopicList.length?t("div",{staticClass:"questions-section"},[t("div",{staticClass:"section-title"},[s._v("答题详情")]),s._l(s.examDetail.questionPapgerTopicList,function(e,a){var i,n,o,r,c,l,u;return t("div",{key:e.id,staticClass:"question-item"},[t("div",{staticClass:"question-header"},[t("span",{staticClass:"question-index"},[s._v("第"+s._s(a+1)+"题")]),t("span",{staticClass:"question-type"},[s._v(s._s(s.getQuestionType(null===(i=e.questionsTopic)||void 0===i?void 0:i.topicType)))]),t("span",{staticClass:"question-score"},[s._v(" 得分："+s._s(1===e.isCorrect&&(null===(n=e.questionsTopic)||void 0===n?void 0:n.score)||0)+"分 "),t("span",{staticClass:"total-score"},[s._v("(总分："+s._s((null===(o=e.questionsTopic)||void 0===o?void 0:o.score)||0)+"分)")])])]),t("div",{staticClass:"question-content",domProps:{innerHTML:s._s(null===(r=e.questionsTopic)||void 0===r?void 0:r.content)}}),t("div",{staticClass:"answer-section"},[t("div",{staticClass:"your-answer"},[t("span",{staticClass:"label"},[s._v("你的答案：")]),t("span",{class:{correct:1===e.isCorrect,wrong:0===e.isCorrect}},[s._v(" "+s._s(s.formatAnswer(e.currentAnswer,null===(c=e.questionsTopic)||void 0===c?void 0:c.questionOptionsList))+" ")])]),t("div",{staticClass:"correct-answer"},[t("span",{staticClass:"label"},[s._v("正确答案：")]),t("span",[s._v(" "+s._s(s.formatCorrectAnswer(null===(l=e.questionsTopic)||void 0===l?void 0:l.questionOptionsList))+" ")])])]),null!==(u=e.questionsTopic)&&void 0!==u&&u.analysis?t("div",{staticClass:"analysis"},[t("div",{staticClass:"label"},[s._v("解析：")]),t("div",{staticClass:"content rich-text",domProps:{innerHTML:s._s(e.questionsTopic.analysis)}})]):s._e()])})],2):s._e()])],1)},i=[],n=e(9217),o=e(24634),r=(e(18111),e(22489),e(61701),e(38429)),c=e(44973),l={name:"ExamDetail",data:function(){return{examDetail:{examName:"",score:0,currentScore:0,submitTime:"",totalScore:0,qualifyScore:0,isPass:0,questionPapgerTopicList:[]},loading:!1}},computed:{isPassed:function(){return this.examDetail.isPass||0}},methods:{fetchExamDetail:function(){var s=this;return(0,o.A)((0,n.A)().m(function t(){var e,a,i;return(0,n.A)().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,s.loading=!0,t.n=1,(0,r.Xs)(s.$route.params.id);case 1:if(e=t.v,200!==e.code||!e.data){t.n=2;break}a=e.data,s.examDetail={examName:a.examName,score:a.currentScore||0,submitTime:a.submitTime,totalScore:a.totalScore||0,qualifyScore:a.qualifyScore||0,isPass:a.isPass,questionPapgerTopicList:a.questionPapgerTopicList||[]},t.n=3;break;case 2:throw new Error(e.msg||"获取考试详情失败");case 3:t.n=5;break;case 4:t.p=4,i=t.v,s.$message.error(i.message||"获取考试详情失败"),c.A.error("获取考试详情失败:",i);case 5:return t.p=5,s.loading=!1,t.f(5);case 6:return t.a(2)}},t,null,[[0,4,5,6]])}))()},formatTime:function(s){return s?s.split(".")[0].replace("T"," "):""},getQuestionType:function(s){var t={1:"单选题",2:"多选题",3:"判断题",4:"填空题",5:"简答题"};return t[s]||"未知类型"},formatAnswer:function(s,t){if(!s||null===t||void 0===t||!t.length)return"未作答";var e=s.split(",");return t.filter(function(s){return e.includes(s.id)}).map(function(s){return s.content}).join("、")||"未作答"},formatCorrectAnswer:function(s){return null!==s&&void 0!==s&&s.length?s.filter(function(s){return 1===s.isRight}).map(function(s){return s.content}).join("、"):""}},created:function(){this.fetchExamDetail()}},u=l,v=e(81656),d=(0,v.A)(u,a,i,!1,null,"8260d438",null),p=d.exports}}]);
//# sourceMappingURL=481.c64aa309.js.map