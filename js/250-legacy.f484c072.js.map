{"version":3,"file":"js/250-legacy.f484c072.js","mappings":"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","sources":["webpack://pc-exam-student/./src/views/finger/index.vue","webpack://pc-exam-student/src/views/finger/index.vue","webpack://pc-exam-student/./src/views/finger/index.vue?71e2","webpack://pc-exam-student/./src/views/finger/index.vue?fc57","webpack://pc-exam-student/./src/api/exam.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"fingerprint-page\"},[_c('el-card',{staticClass:\"fingerprint-card\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"浏览器指纹信息\")]),_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"浏览器指纹\"}},[_c('el-input',{staticClass:\"full-width-input\",attrs:{\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-document-copy\",\"disabled\":!_vm.fingerprint},on:{\"click\":_vm.copyFingerprint}},[_vm._v(\" 复制 \")]),_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\",\"icon\":\"el-icon-upload\",\"disabled\":!_vm.fingerprint},on:{\"click\":_vm.sendFingerprint}},[_vm._v(\" 注册 \")])]},proxy:true}]),model:{value:(_vm.fingerprint),callback:function ($$v) {_vm.fingerprint=$$v},expression:\"fingerprint\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"fingerprint-page\">\r\n      <el-card class=\"fingerprint-card\">\r\n        <div class=\"title\">浏览器指纹信息</div>\r\n        <el-form label-width=\"120px\">\r\n          <el-form-item label=\"浏览器指纹\">\r\n            <el-input\r\n              v-model=\"fingerprint\"\r\n              readonly\r\n              class=\"full-width-input\"\r\n            >\r\n              <template #append>\r\n                <el-button\r\n                  type=\"primary\" plain\r\n                  icon=\"el-icon-document-copy\"\r\n                  @click=\"copyFingerprint\"\r\n                  :disabled=\"!fingerprint\"\r\n                >\r\n                  复制\r\n                </el-button>\r\n                <el-button\r\n                  type=\"success\" plain\r\n                  icon=\"el-icon-upload\"\r\n                  @click=\"sendFingerprint\"\r\n                  :disabled=\"!fingerprint\"\r\n                >\r\n                  注册\r\n                </el-button>\r\n              </template>\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import FingerprintJS from '@fingerprintjs/fingerprintjs';\r\n  import { addComputer } from '@/api/exam';\r\n  \r\n  export default {\r\n    name: 'FingerprintPage',\r\n    data() {\r\n      return {\r\n        fingerprint: '', // 浏览器指纹\r\n      };\r\n    },\r\n    methods: {\r\n      // 获取浏览器指纹\r\n      async getBrowserFingerprint() {\r\n        try {\r\n          const fp = await FingerprintJS.load();\r\n          const result = await fp.get();\r\n          this.fingerprint = result.visitorId; // 获取指纹\r\n          localStorage.setItem('fingerprint', this.fingerprint); // 存储指纹到 localStorage\r\n        } catch (error) {\r\n          console.error('获取浏览器指纹失败:', error);\r\n          this.$message.error('获取浏览器指纹失败，请刷新页面重试');\r\n        }\r\n      },\r\n      // 复制指纹到剪贴板\r\n      copyFingerprint() {\r\n        if (this.fingerprint) {\r\n          navigator.clipboard\r\n            .writeText(this.fingerprint)\r\n            .then(() => {\r\n              this.$message.success('指纹已复制到剪贴板');\r\n            })\r\n            .catch((err) => {\r\n              console.error('复制失败:', err);\r\n              this.$message.error('复制失败，请手动复制');\r\n            });\r\n        }\r\n      },\r\n      // 发送指纹到后端\r\n      sendFingerprint() {\r\n        const param = {\r\n          fingerprint: this.fingerprint,\r\n        };\r\n        addComputer(param)\r\n          .then((response) => {\r\n            if (response.code === 200) {\r\n              this.$message.success('指纹发送成功，等待分配考试电脑编号！');\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message.error('指纹发送失败：' + error.message);\r\n          });\r\n      },\r\n    },\r\n    created() {\r\n      this.getBrowserFingerprint(); // 页面加载时获取指纹\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .fingerprint-page {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n    background-color: #f5f7fa;\r\n  }\r\n  \r\n  .fingerprint-card {\r\n    width: 800px; /* 卡片宽度 */\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .title {\r\n    font-size: 24px; /* 增大标题字体 */\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n    text-align: center;\r\n    color: #409eff;\r\n  }\r\n  \r\n  .el-form-item {\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  /* 确保输入框宽度足够 */\r\n  .full-width-input {\r\n    width: 100%; /* 输入框占满父容器宽度 */\r\n  }\r\n  \r\n  /* 确保输入框内容不被截断 */\r\n  .full-width-input >>> .el-input__inner {\r\n    white-space: nowrap; /* 禁止换行 */\r\n    overflow: hidden; /* 隐藏溢出内容 */\r\n    text-overflow: ellipsis; /* 溢出时显示省略号 */\r\n  }\r\n  \r\n  /* 按钮组样式 */\r\n  .el-button {\r\n    margin-left: 10px; /* 按钮间距 */\r\n  }\r\n  \r\n  /* 响应式设计 */\r\n  @media (max-width: 768px) {\r\n    .fingerprint-card {\r\n      width: 90%; /* 小屏幕下卡片宽度调整为 90% */\r\n    }\r\n  \r\n    .title {\r\n      font-size: 20px; /* 小屏幕下标题字体缩小 */\r\n    }\r\n  \r\n    .el-form-item {\r\n      margin-bottom: 15px; /* 小屏幕下减少间距 */\r\n    }\r\n  }\r\n  </style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5a0c13c9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5a0c13c9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a0c13c9\",\n  null\n  \n)\n\nexport default component.exports","//import request from './request'\r\nimport request from '@/utils/request'\r\n// 获取考试列表\r\nexport function getExamList(params) {\r\n  return request({\r\n    url: '/exam/questionExam/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取考试详情\r\nexport function getExamDetail(id) {\r\n  return request({\r\n    url: `/exam/detail/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 获取试卷试题列表\r\nexport function getExamPaper(id) {\r\n  return request({\r\n    // url: `/exam/papgerTopic/${id}`,\r\n    url: `/exam/paper/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 开始考试\r\nexport function startExam(data) {\r\n  return request({\r\n    url: '/exam/examScore/startExam',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 提交试卷\r\nexport function submitPaper(data) {\r\n  return request({\r\n    url: '/exam/examSubmission/submit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取考试成绩详情\r\nexport function getExamScoreDetail(id) {\r\n  return request({\r\n    url: `/exam/examScore/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 结束电脑使用\r\nexport function endComputerInfo(data) {\r\n  return request({\r\n    url: '/exam/computer/endComputerInfo',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 新增考试电脑管理\r\nexport function addComputer(data) {\r\n  return request({\r\n    url: '/exam/computer',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","scopedSlots","_u","key","fn","fingerprint","on","copyFingerprint","sendFingerprint","proxy","model","value","callback","$$v","expression","staticRenderFns","name","data","methods","getBrowserFingerprint","_this","_asyncToGenerator","_regenerator","m","_callee","fp","result","_t","w","_context","p","n","FingerprintJS","v","get","visitorId","localStorage","setItem","console","error","$message","a","_this2","navigator","clipboard","writeText","then","success","catch","err","_this3","param","addComputer","response","code","message","created","component","getExamList","params","request","url","method","getExamDetail","id","concat","getExamPaper","startExam","submitPaper","getExamScoreDetail","endComputerInfo"],"sourceRoot":""}