"use strict";(self["webpackChunkpc_exam_student"]=self["webpackChunkpc_exam_student"]||[]).push([[481,862],{38429:function(t,s,e){e.d(s,{PZ:function(){return c},QC:function(){return r},S0:function(){return o},Xs:function(){return u},b1:function(){return n},bH:function(){return m},gD:function(){return i},nQ:function(){return l}});var a=e(47120);function i(t){return(0,a.A)({url:"/exam/questionExam/list",method:"get",params:t})}function n(t){return(0,a.A)({url:"/exam/detail/".concat(t),method:"get"})}function r(t){return(0,a.A)({url:"/exam/paper/".concat(t),method:"get"})}function o(t){return(0,a.A)({url:"/exam/examScore/startExam",method:"post",data:t})}function c(t){return(0,a.A)({url:"/exam/examSubmission/submit",method:"post",data:t})}function u(t){return(0,a.A)({url:"/exam/examScore/".concat(t),method:"get"})}function l(t){return(0,a.A)({url:"/exam/computer/endComputerInfo",method:"post",data:t})}function m(t){return(0,a.A)({url:"/exam/computer",method:"post",data:t})}},83862:function(t,s,e){e.r(s),e.d(s,{default:function(){return p}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"exam-detail"},[s("div",{staticClass:"detail-header"},[s("div",{staticClass:"back",on:{click:function(s){return t.$router.back()}}},[s("i",{staticClass:"el-icon-arrow-left"}),t._v(" 返回 ")]),s("h2",[t._v(t._s(t.examDetail.examName))])]),s("el-card",{staticClass:"detail-card"},[s("div",{staticClass:"info-section"},[s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("考试得分：")]),s("span",{staticClass:"value score",class:{pass:t.isPassed}},[t._v(" "+t._s(t.examDetail.score||t.examDetail.currentScore||0)+"分 ")])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("考试时间：")]),s("span",{staticClass:"value"},[t._v(t._s(t.formatTime(t.examDetail.submitTime)))])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("总分：")]),s("span",{staticClass:"value"},[t._v(t._s(t.examDetail.totalScore||0)+"分")])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("及格分：")]),s("span",{staticClass:"value qualify-score"},[t._v(t._s(t.examDetail.qualifyScore||0)+"分")])]),s("div",{staticClass:"info-item"},[s("span",{staticClass:"label"},[t._v("是否及格：")]),s("el-tag",{attrs:{type:t.isPassed?"success":"danger"}},[t._v(" "+t._s(t.isPassed?"及格":"不及格")+" ")])],1)]),t.examDetail.questionPapgerTopicList&&t.examDetail.questionPapgerTopicList.length?s("div",{staticClass:"questions-section"},[s("div",{staticClass:"section-title"},[t._v("答题详情")]),t._l(t.examDetail.questionPapgerTopicList,function(e,a){var i,n,r,o,c,u,l;return s("div",{key:e.id,staticClass:"question-item"},[s("div",{staticClass:"question-header"},[s("span",{staticClass:"question-index"},[t._v("第"+t._s(a+1)+"题")]),s("span",{staticClass:"question-type"},[t._v(t._s(t.getQuestionType(null===(i=e.questionsTopic)||void 0===i?void 0:i.topicType)))]),s("span",{staticClass:"question-score"},[t._v(" 得分："+t._s(1===e.isCorrect&&(null===(n=e.questionsTopic)||void 0===n?void 0:n.score)||0)+"分 "),s("span",{staticClass:"total-score"},[t._v("(总分："+t._s((null===(r=e.questionsTopic)||void 0===r?void 0:r.score)||0)+"分)")])])]),s("div",{staticClass:"question-content",domProps:{innerHTML:t._s(null===(o=e.questionsTopic)||void 0===o?void 0:o.content)}}),s("div",{staticClass:"answer-section"},[s("div",{staticClass:"your-answer"},[s("span",{staticClass:"label"},[t._v("你的答案：")]),s("span",{class:{correct:1===e.isCorrect,wrong:0===e.isCorrect}},[t._v(" "+t._s(t.formatAnswer(e.currentAnswer,null===(c=e.questionsTopic)||void 0===c?void 0:c.questionOptionsList))+" ")])]),s("div",{staticClass:"correct-answer"},[s("span",{staticClass:"label"},[t._v("正确答案：")]),s("span",[t._v(" "+t._s(t.formatCorrectAnswer(null===(u=e.questionsTopic)||void 0===u?void 0:u.questionOptionsList))+" ")])])]),null!==(l=e.questionsTopic)&&void 0!==l&&l.analysis?s("div",{staticClass:"analysis"},[s("div",{staticClass:"label"},[t._v("解析：")]),s("div",{staticClass:"content rich-text",domProps:{innerHTML:t._s(e.questionsTopic.analysis)}})]):t._e()])})],2):t._e()])],1)},i=[],n=e(9217),r=e(24634),o=(e(18111),e(22489),e(61701),e(38429)),c=e(44973),u={name:"ExamDetail",data:function(){return{examDetail:{examName:"",score:0,currentScore:0,submitTime:"",totalScore:0,qualifyScore:0,isPass:0,questionPapgerTopicList:[]},loading:!1}},computed:{isPassed:function(){return this.examDetail.isPass||0}},methods:{fetchExamDetail:function(){var t=this;return(0,r.A)((0,n.A)().m(function s(){var e,a,i;return(0,n.A)().w(function(s){while(1)switch(s.p=s.n){case 0:return s.p=0,t.loading=!0,s.n=1,(0,o.Xs)(t.$route.params.id);case 1:if(e=s.v,200!==e.code||!e.data){s.n=2;break}a=e.data,t.examDetail={examName:a.examName,score:a.currentScore||0,submitTime:a.submitTime,totalScore:a.totalScore||0,qualifyScore:a.qualifyScore||0,isPass:a.isPass,questionPapgerTopicList:a.questionPapgerTopicList||[]},s.n=3;break;case 2:throw new Error(e.msg||"获取考试详情失败");case 3:s.n=5;break;case 4:s.p=4,i=s.v,t.$message.error(i.message||"获取考试详情失败"),c.A.error("获取考试详情失败:",i);case 5:return s.p=5,t.loading=!1,s.f(5);case 6:return s.a(2)}},s,null,[[0,4,5,6]])}))()},formatTime:function(t){return t?t.split(".")[0].replace("T"," "):""},getQuestionType:function(t){var s={1:"单选题",2:"多选题",3:"判断题",4:"填空题",5:"简答题"};return s[t]||"未知类型"},formatAnswer:function(t,s){if(!t||null===s||void 0===s||!s.length)return"未作答";var e=t.split(",");return s.filter(function(t){return e.includes(t.id)}).map(function(t){return t.content}).join("、")||"未作答"},formatCorrectAnswer:function(t){return null!==t&&void 0!==t&&t.length?t.filter(function(t){return 1===t.isRight}).map(function(t){return t.content}).join("、"):""}},created:function(){this.fetchExamDetail()}},l=u,m=e(81656),d=(0,m.A)(l,a,i,!1,null,"8260d438",null),p=d.exports}}]);
//# sourceMappingURL=862.0c54931a.js.map